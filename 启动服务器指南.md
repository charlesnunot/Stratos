# 启动开发服务器 - 问题排查

## ⚠️ 当前问题

开发服务器启动时遇到权限错误（EPERM），可能的原因：

1. **Node.js版本过新** - 您使用的是 Node.js v22.19.0，Next.js 14.0.4 可能不完全兼容
2. **权限问题** - 需要管理员权限
3. **端口被占用** - 3000端口可能被其他程序占用

## 🔧 解决方案

### 方案1：使用兼容的Node.js版本（推荐）

Next.js 14 推荐使用 Node.js 18 或 20：

1. **安装Node.js 20**（推荐）
   - 访问：https://nodejs.org/
   - 下载并安装 Node.js 20 LTS 版本
   - 安装后重启终端

2. **或者使用nvm管理Node版本**（如果已安装）
   ```powershell
   nvm install 20
   nvm use 20
   ```

### 方案2：以管理员身份运行

1. **关闭当前PowerShell**
2. **右键点击PowerShell**
3. **选择"以管理员身份运行"**
4. **重新运行**：
   ```powershell
   cd C:\Users\admin\Desktop\Stratos
   npm run dev
   ```

### 方案3：使用不同端口

如果3000端口被占用：

```powershell
cd C:\Users\admin\Desktop\Stratos
$env:PORT=3001; npm run dev
```

### 方案4：清理并重新安装

```powershell
cd C:\Users\admin\Desktop\Stratos

# 停止所有Node进程
Stop-Process -Name node -Force -ErrorAction SilentlyContinue

# 清理缓存
npm cache clean --force

# 删除node_modules和重新安装
Remove-Item -Recurse -Force node_modules -ErrorAction SilentlyContinue
Remove-Item package-lock.json -ErrorAction SilentlyContinue
npm install

# 重新启动
npm run dev
```

## 📋 快速检查清单

- [ ] Node.js版本是否为18或20（推荐20）
- [ ] 是否以管理员身份运行
- [ ] 3000端口是否被占用
- [ ] 依赖是否完整安装

## 🎯 推荐操作

**最简单的方法**：

1. **安装Node.js 20 LTS**
   - 访问：https://nodejs.org/
   - 下载安装 Node.js 20.x LTS

2. **重启终端后运行**：
   ```powershell
   cd C:\Users\admin\Desktop\Stratos
   npm run dev
   ```

## ✅ 成功标志

服务器启动成功后，您会看到：

```
▲ Next.js 14.0.4
- Local:        http://localhost:3000
- Ready in X.Xs
```

然后就可以访问 http://localhost:3000 了！
