# Stratos å¹³å° - é€é¡µä¸Šçº¿å®¡è®¡æŠ¥å‘Š

**å®¡è®¡æ—¥æœŸ**: 2026-01-25  
**å®¡è®¡èŒƒå›´**: æ‰€æœ‰é¡µé¢ç»„ä»¶ï¼ˆ71ä¸ªé¡µé¢ï¼‰  
**å®¡è®¡ç»´åº¦**: å®‰å…¨æ€§ã€é”™è¯¯å¤„ç†ã€æ€§èƒ½ã€ç”¨æˆ·ä½“éªŒã€ç”Ÿäº§å°±ç»ªæ€§

---

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

### æ€»ä½“è¯„ä¼°
- âœ… **å·²é€šè¿‡**: 48ä¸ªé¡µé¢ï¼ˆç¬¬å››è½®å®¡è®¡å®Œæˆå‰©ä½™ 35 é¡µï¼‰
- âš ï¸ **éœ€è¦æ”¹è¿›**: 23ä¸ªé¡µé¢ï¼ˆå« 1 ä¸ªä¸¥é‡ï¼‰
- âŒ **ä¸¥é‡é—®é¢˜**: 1ä¸ªï¼ˆæ¶ˆæ¯è¯¦æƒ…è¶Šæƒï¼‰
- ğŸ“‹ **å¾…æ£€æŸ¥**: 0ä¸ªé¡µé¢

### å…³é”®å‘ç°
1. **å®‰å…¨æ€§**: å¤§éƒ¨åˆ†é¡µé¢æœ‰åŸºæœ¬è®¤è¯æ£€æŸ¥ï¼Œä½†æˆæƒæ£€æŸ¥ä¸ä¸€è‡´
2. **é”™è¯¯å¤„ç†**: éƒ¨åˆ†é¡µé¢ç¼ºå°‘å®Œæ•´çš„é”™è¯¯è¾¹ç•Œå’Œç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
3. **æ€§èƒ½**: Server Components é‡æ„å·²å®Œæˆï¼Œä½†éƒ¨åˆ†é¡µé¢ä»æœ‰ä¼˜åŒ–ç©ºé—´
4. **ç”¨æˆ·ä½“éªŒ**: åŠ è½½çŠ¶æ€å’Œç©ºçŠ¶æ€å¤„ç†è‰¯å¥½ï¼Œä½†éƒ¨åˆ†é¡µé¢ç¼ºå°‘åé¦ˆ

---

## ğŸ” è¯¦ç»†å®¡è®¡ç»“æœ

### 1. æ ¸å¿ƒé¡µé¢

#### 1.1 é¦–é¡µ (`/[locale]/(main)/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… Server Component æ¶æ„ï¼Œé¦–å±æ€§èƒ½ä¼˜ç§€
- âœ… é”™è¯¯å¤„ç†å®Œå–„ï¼ˆinitialError ä¼ é€’ï¼‰
- âœ… æ•°æ®è·å–æœ‰é»˜è®¤å€¼å¤„ç†
- âœ… æ”¯æŒæœªç™»å½•ç”¨æˆ·è®¿é—®

**å»ºè®®**:
- âš ï¸ è€ƒè™‘æ·»åŠ ç¼“å­˜ç­–ç•¥ï¼ˆrevalidateï¼‰
- âš ï¸ æ·»åŠ  loading.tsx ä»¥æ”¹å–„åŠ è½½ä½“éªŒ

**ä»£ç è´¨é‡**: â­â­â­â­â­

---

#### 1.2 å•†å“è¯¦æƒ…é¡µ (`/product/[id]/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… Server Componentï¼ŒSEOå‹å¥½
- âœ… ä½¿ç”¨ `notFound()` å¤„ç†ä¸å­˜åœ¨å•†å“
- âœ… FAQ JSONè§£ææœ‰é”™è¯¯å¤„ç†
- âœ… æ‰€æœ‰è®¡æ•°å­—æ®µæœ‰é»˜è®¤å€¼

**é—®é¢˜**:
- âš ï¸ ç¼ºå°‘å•†å“çŠ¶æ€æ£€æŸ¥ï¼ˆå·²ä¸‹æ¶å•†å“ä»å¯èƒ½æ˜¾ç¤ºï¼‰
- âš ï¸ æœªæ£€æŸ¥å•†å“æ˜¯å¦å±äºå½“å‰ç”¨æˆ·ï¼ˆå–å®¶ç¼–è¾‘æƒé™ï¼‰

**å»ºè®®**:
```typescript
// å»ºè®®æ·»åŠ çŠ¶æ€æ£€æŸ¥
if (product.status !== 'active') {
  notFound() // æˆ–é‡å®šå‘åˆ°404
}
```

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 1.3 è®¢å•è¯¦æƒ…é¡µ (`/orders/[id]/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**:
- âœ… æƒé™æ£€æŸ¥å®Œå–„ï¼ˆbuyer_id å’Œ seller_idï¼‰
- âœ… é”™è¯¯å¤„ç†è‰¯å¥½
- âœ… åŠ è½½çŠ¶æ€å¤„ç†
- âœ… æ”¯æŒ order_items è¡¨ï¼ˆå‘åå…¼å®¹ï¼‰
- âœ… **å·²ä¿®å¤**: `existingFeedback` é€šè¿‡ `useOrderFeedback(orderId, user?.id)` æ­£ç¡®è·å–

**é—®é¢˜**:
- âš ï¸ å–æ¶ˆè®¢å•ä½¿ç”¨ `confirm()`ï¼Œå»ºè®®æ”¹ä¸ºç¡®è®¤å¯¹è¯æ¡†
- âš ï¸ å·²å–æ¶ˆè®¢å•ä»å¯æ˜¾ç¤ºéƒ¨åˆ†æ“ä½œå…¥å£ï¼Œå¯åŠ å¼ºçŠ¶æ€åˆ¤æ–­

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 1.4 ç»“è´¦é¡µé¢ (`/checkout/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… å®Œæ•´çš„å•†å“éªŒè¯ï¼ˆåº“å­˜ã€ä»·æ ¼ã€çŠ¶æ€ï¼‰
- âœ… æ”¯ä»˜æ–¹å¼åŠ¨æ€åŠ è½½
- âœ… åœ°å€é€‰æ‹©å™¨é›†æˆ
- âœ… é”™è¯¯å¤„ç†è¯¦ç»†ï¼ˆ401ã€404ã€500åˆ†åˆ«å¤„ç†ï¼‰
- âœ… è¯·æ±‚è¶…æ—¶å¤„ç†ï¼ˆ10ç§’ï¼‰

**é—®é¢˜**:
- âš ï¸ è´­ç‰©è½¦éªŒè¯åœ¨å®¢æˆ·ç«¯è¿›è¡Œï¼Œå¯èƒ½è¢«ç»•è¿‡ï¼ˆåç«¯APIå·²æœ‰éªŒè¯ï¼‰
- âš ï¸ æ”¯ä»˜æ–¹å¼åŠ è½½å¤±è´¥æ—¶ç”¨æˆ·ä½“éªŒå¯æ”¹è¿›

**ä»£ç è´¨é‡**: â­â­â­â­â­

---

#### 1.5 è®¢å•åˆ—è¡¨ (`/orders/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… Server Componentï¼ŒæœåŠ¡ç«¯ `getUser`ï¼Œæœªç™»å½•å±•ç¤ºã€Œè¯·ç™»å½•æŸ¥çœ‹ã€ä¸é‡å®šå‘
- âœ… æœåŠ¡ç«¯æŒ‰ `buyer_id` / `seller_id` è¿‡æ»¤è®¢å•ï¼Œæ•°æ®éš”ç¦»æ­£ç¡®
- âœ… åˆå§‹æ•°æ®ä¼  `OrdersPageClient`ï¼Œ`initialError` ä¼ é€’

**ä»£ç è´¨é‡**: â­â­â­â­â­

---

#### 1.6 è´­ç‰©è½¦ (`/cart/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… ä»…æ‰¿è½½ `ShoppingCart` ç»„ä»¶ï¼Œ`useCartStore` + `useCartValidation` å®æ—¶æ ¡éªŒ
- âœ… æ— æ•ˆå•†å“æç¤ºã€ç§»é™¤ã€é€‰å“ç»“ç®—é€»è¾‘åœ¨ç»„ä»¶å†…

**è¯´æ˜**: è´­ç‰©è½¦é€šå¸¸å…è®¸æœªç™»å½•æµè§ˆï¼ˆå­˜æœ¬åœ°ï¼‰ï¼Œç»“è´¦æ—¶å†è¦æ±‚ç™»å½•ï¼›è‹¥ä¸šåŠ¡è¦æ±‚ç™»å½•æ‰èƒ½çœ‹è´­ç‰©è½¦éœ€åŠ é‰´æƒã€‚

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 1.7 å•†å“åˆ—è¡¨ (`/products/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… `useProducts` åˆ†é¡µåŠ è½½ï¼Œloading / error / ç©ºæ€ã€åŠ è½½æ›´å¤š
- âœ… æ— éœ€ç™»å½•å³å¯æµè§ˆå•†å“

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 1.8 è®¢å•ç‰©æµ (`/orders/[id]/tracking/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**ï¼ˆå·²ä¿®å¤ï¼‰

**ä¼˜ç‚¹**:
- âœ… å·²æ”¹ä¸º **Server Component**ï¼ŒæœåŠ¡ç«¯æ ¡éªŒ `order.buyer_id === user.id` æˆ– `order.seller_id === user.id`
- âœ… æœªç™»å½•é‡å®šå‘ç™»å½•å¹¶å¸¦ `redirect` å‚æ•°
- âœ… æ— è®¢å•æ—¶ `notFound()`
- âœ… æŒ‰ `orderId` æ‹‰å–è®¢å•ï¼Œæ— å•å·æ—¶æç¤ºå¹¶è¿”å›è®¢å•è¯¦æƒ…
- âœ… æœ‰å•å·æ—¶è°ƒ `trackLogistics` å±•ç¤ºè½¨è¿¹ï¼Œloading / ç©ºæ€
- âœ… æå– `OrderTrackingClient` å¤„ç†äº¤äº’é€»è¾‘

**ä»£ç è´¨é‡**: â­â­â­â­â­

---

#### 1.9 è®¢å•ç»„ (`/orders/group/[groupId]/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**: æŒ‰ `groupId` æ‹‰å– `order_groups` ä¸å­è®¢å•ï¼Œloadingã€ä¸å­˜åœ¨æ—¶æç¤ºï¼›RLS æŒ‰ `buyer_id` é™åˆ¶
**é—®é¢˜**: **æœªç™»å½•å¯è®¿é—®**ï¼Œæ— è®¤è¯é‡å®šå‘ï¼›æœªåœ¨é¡µé¢å±‚æ˜¾å¼æ ¡éªŒ `order_group.buyer_id === user.id`ï¼ˆä¾èµ– RLSï¼‰

**å»ºè®®**: æœªç™»å½•é‡å®šå‘ï¼›å¯é€‰åœ¨æœåŠ¡ç«¯æ ¡éªŒä¹°å®¶å½’å±

---

#### 1.10 è®¢å•è¯„ä»· (`/orders/[id]/feedback/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: `useOrderFeedback`ã€ä¹°å®¶æ ¡éªŒï¼ˆ`order.buyer_id !== user.id` æ—¶ `router.push`ï¼‰ï¼›ä»…å·²å®Œæˆè®¢å•å¯è¯„ï¼›è¯„åˆ†ã€æäº¤/æ›´æ–°
**é—®é¢˜**: æœªç™»å½•æ— é‡å®šå‘ï¼ˆä¾èµ– `user` åšæ ¡éªŒï¼‰ï¼›`confirm` æœªç”¨ç¡®è®¤å¼¹çª—

**ä»£ç è´¨é‡**: â­â­â­â­

---

### 2. è®¤è¯é¡µé¢

#### 2.1 ç™»å½•é¡µé¢ (`/(auth)/login/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… é”™è¯¯æ¶ˆæ¯å›½é™…åŒ–
- âœ… é”™è¯¯æ˜ å°„å®Œå–„ï¼ˆinvalid_credentials, email_not_confirmedç­‰ï¼‰
- âœ… é‡å®šå‘URLéªŒè¯ï¼ˆ`validateRedirectUrl`ï¼‰
- âœ… ä¼šè¯åˆ›å»ºæœ‰åå¤‡æ–¹æ¡ˆ

**å»ºè®®**:
- âš ï¸ è€ƒè™‘æ·»åŠ "è®°ä½æˆ‘"åŠŸèƒ½
- âš ï¸ æ·»åŠ ç™»å½•å°è¯•é™åˆ¶ï¼ˆé˜²æš´åŠ›ç ´è§£ï¼‰

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 2.2 æ³¨å†Œé¡µé¢ (`/(auth)/register/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**:
- âœ… åŸºæœ¬è¡¨å•éªŒè¯ï¼ˆrequiredã€minLength=6ï¼‰
- âœ… é”™è¯¯å¤„ç†å’Œ loading çŠ¶æ€
- âœ… é‚®ç®±éªŒè¯æµç¨‹ï¼ˆæ—  session æ—¶æç¤ºå¹¶ 3 ç§’åè·³è½¬ç™»å½•ï¼‰
- âœ… å›½é™…åŒ–

**é—®é¢˜**:
- âŒ **ä¸¥é‡**: ä½¿ç”¨ `window.location.origin` æ„å»º `emailRedirectTo`ï¼Œæœªè€ƒè™‘ base path/å¤šç¯å¢ƒ
- âš ï¸ ç”Ÿäº§ç¯å¢ƒé—ç•™ `console.log`ï¼ˆç¬¬ 26ã€40ã€50 è¡Œï¼‰
- âš ï¸ æ— å¯†ç å¼ºåº¦æ ¡éªŒï¼ˆä»… minLength 6ï¼‰
- âš ï¸ ç”¨æˆ·åæ— æ ¼å¼/å”¯ä¸€æ€§æ ¡éªŒ
- âš ï¸ æˆåŠŸä¸å¤±è´¥å…±ç”¨ `error` çŠ¶æ€å±•ç¤ºï¼ˆæ³¨å†ŒæˆåŠŸæ—¶ setError(t('registerSuccess')) è¯­ä¹‰æ··ä¹±ï¼‰

**å»ºè®®**:
- ç§»é™¤æˆ–æ¡ä»¶åŒ– `console.log`
- å¢åŠ å¯†ç å¼ºåº¦æ ¡éªŒï¼ˆå¤§å°å†™ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦ï¼‰
- å°†æˆåŠŸæç¤ºä¸é”™è¯¯çŠ¶æ€åˆ†ç¦»

**ä»£ç è´¨é‡**: â­â­â­

---

#### 2.3 å¿˜è®°å¯†ç é¡µ (`/(auth)/forgot-password/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… æˆåŠŸ/å¤±è´¥çŠ¶æ€åˆ†ç¦»
- âœ… æˆåŠŸåæœ‰æ˜ç¡®è¯´æ˜æ–‡æ¡ˆ
- âœ… ä½¿ç”¨ `resetPasswordForEmail` + `redirectTo` å›è°ƒ
- âœ… é”™è¯¯å¤„ç†ä¸ loading

**å»ºè®®**:
- âš ï¸ é˜²æ»¥ç”¨ï¼šåŒä¸€é‚®ç®±é¢‘ç¹è¯·æ±‚å¯è€ƒè™‘é™æµæˆ–æç¤º

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 2.4 é‡ç½®å¯†ç é¡µ (`/(auth)/reset-password/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… `useEffect` æ£€æŸ¥ sessionï¼Œæ—  session æ—¶è·³è½¬ç™»å½•
- âœ… å¯†ç é•¿åº¦ â‰¥6ã€ä¸¤æ¬¡å¯†ç ä¸€è‡´æ€§æ ¡éªŒ
- âœ… æˆåŠŸæ€æç¤º + 3 ç§’åè·³è½¬ç™»å½•
- âœ… `minLength={6}` ä¸é€»è¾‘æ ¡éªŒä¸€è‡´

**é—®é¢˜**:
- âš ï¸ `checkSession` æœªå¤„ç† `getSession` æŠ¥é”™ï¼›æœªç™»å½•å³ `router.push` å¯èƒ½é‡å¤æ‰§è¡Œ

**å»ºè®®**:
- ä¾èµ– `supabase.auth.onAuthStateChange` æˆ–ç»Ÿä¸€ auth å®ˆå«ï¼Œé¿å…é‡å¤ redirect

**ä»£ç è´¨é‡**: â­â­â­â­

---

### 3. æ”¯ä»˜ç›¸å…³é¡µé¢

#### 3.1 è®¢å•æ”¯ä»˜é¡µ (`/orders/[id]/pay/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**:
- âœ… å·²æ”¯ä»˜è®¢å•ç›´æ¥å±•ç¤ºæˆåŠŸæ€ï¼Œé¿å…é‡å¤æ”¯ä»˜
- âœ… æ”¶è´§åœ°å€æ ¡éªŒä¸ä¿å­˜
- âœ… å¤šæ”¯ä»˜æ–¹å¼ï¼ˆStripeã€PayPalã€æ”¯ä»˜å®ã€å¾®ä¿¡ã€é“¶è¡Œè½¬è´¦ï¼‰
- âœ… ä¿è¯é‡‘ä¸è¶³æ—¶æç¤ºå¹¶å±•ç¤ºè”ç³»å–å®¶
- âœ… é“¶è¡Œè½¬è´¦å‡­è¯ä¸Šä¼ 
- âœ… åŠ è½½ã€ç©ºè®¢å•ã€é”™è¯¯æ€å¤„ç†

**é—®é¢˜**:
- âŒ **ä¸¥é‡**: é“¶è¡Œè½¬è´¦åˆ†æ”¯ç›´æ¥ä½¿ç”¨ `createClient` + `SUPABASE_SERVICE_ROLE_KEY` åœ¨å®¢æˆ·ç«¯åˆ›å»º `payment_transactions`ï¼Œ**æ•æ„Ÿå¯†é’¥ä¸åº”æš´éœ²ç»™å‰ç«¯**
- âš ï¸ æœªæ ¡éªŒå½“å‰ç”¨æˆ·æ˜¯å¦ä¸ºè®¢å• buyerï¼ˆä»»ä½•äººæŒ orderId å¯è®¿é—®æ”¯ä»˜é¡µï¼‰
- âš ï¸ æ”¯ä»˜å®â€œæ¨¡æ‹Ÿè·³è½¬â€ä»… `setTimeout` å›è®¢å•é¡µï¼ŒéçœŸå®æ”¯ä»˜æµç¨‹
- âš ï¸ é“¶è¡Œè½¬è´¦ `bank_account_settings` ä¸ºå…¨å±€å•æ¡ï¼ŒæœªæŒ‰å–å®¶åŒºåˆ†

**å»ºè®®**:
- é“¶è¡Œè½¬è´¦åˆ›å»ºäº¤æ˜“ã€æ›´æ–°è®¢å•ç­‰é€»è¾‘å…¨éƒ¨ç§»è‡³ API Routeï¼Œä½¿ç”¨æœåŠ¡ç«¯ Supabase Admin
- æ”¯ä»˜å‰æ ¡éªŒ `order.buyer_id === user?.id`ï¼Œå¦åˆ™ 403 æˆ–é‡å®šå‘

**ä»£ç è´¨é‡**: â­â­â­

---

#### 3.2 å–å®¶è®¢é˜…é¡µ (`/subscription/seller/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**:
- âœ… æ¡£ä½ä¸ä»·æ ¼å±•ç¤ºã€é™çº§å‰æœªå±¥è¡Œè®¢å•æ ¡éªŒ
- âœ… Stripe / PayPal / æ”¯ä»˜å® / å¾®ä¿¡æµç¨‹
- âœ… é”™è¯¯ toastã€loading çŠ¶æ€

**é—®é¢˜**:
- âš ï¸ æœªç™»å½•æ—¶ä»… `router.push('/login')`ï¼Œæ—  loadingï¼Œå¯èƒ½é—ªä¸€ä¸‹å†è·³è½¬
- âš ï¸ è®¢é˜… API è·¯å¾„ä¸ç»Ÿä¸€ï¼ˆ`create-checkout-session` vs `create-pending` / `create-payment`ï¼‰ï¼Œéœ€æ ¸å¯¹æ˜¯å¦å­˜åœ¨
- âš ï¸ æ”¯ä»˜å® `form.submit()` è·³è½¬åæ— æ˜ç¡®æˆåŠŸ/å–æ¶ˆåé¦ˆ

---

#### 3.3 è®¢é˜…ç®¡ç† (`/subscription/manage/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**:
- âœ… `useAuth`ï¼ŒæŒ‰ `user_id` æŸ¥è®¢é˜…ä¸ profile
- âœ… å±•ç¤ºå½“å‰è®¢é˜…ã€åˆ°æœŸã€å†å²è®°å½•ï¼ˆ`/api/subscriptions/history`ï¼‰
- âœ… åŠ è½½ã€è¿‡æœŸæ€å¤„ç†

**é—®é¢˜**:
- âš ï¸ **æœªç™»å½•æ— é‡å®šå‘**ï¼š`!user` æ—¶ä»æ¸²æŸ“ï¼Œä¾èµ– `enabled: !!user` ä¸è¯·æ±‚ï¼Œé¡µé¢å¯èƒ½ç©ºç™½
- âš ï¸ è‹¥ä¸šåŠ¡è¦æ±‚ä»…ç™»å½•å¯è®¿é—®ï¼Œéœ€æ˜¾å¼ `router.push('/login')` æˆ– `useAuthGuard`

---

#### 3.4 è®¢é˜…æ‰“èµ (`/subscription/tip/page.tsx`)ã€3.5 å¸¦è´§è®¢é˜… (`/subscription/affiliate/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**: æ¡£ä½ä¸æ”¯ä»˜æ–¹å¼ï¼›`!user` æ—¶ `handleSubscribe` å†… `router.push('/login')`ï¼›Stripe/æ”¯ä»˜å®/å¾®ä¿¡ç­‰
**é—®é¢˜**: æœªç™»å½•å¯æµè§ˆé¡µé¢ï¼Œä»…ä¸‹å•æ—¶è·³è½¬ï¼›å»ºè®®ç»Ÿä¸€ä¸ºå…¥å£å³é‡å®šå‘æˆ–æ˜ç¡®å ä½

---

#### 3.6 è®¢é˜…æˆåŠŸ (`/subscription/success/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: `!user` æ—¶ `router.push('/login')`ï¼›è½®è¯¢è®¢é˜…çŠ¶æ€ã€æˆåŠŸæ€ã€å–å®¶æ”¶æ¬¾å¼•å¯¼å¼¹çª—

---

### 4. å–å®¶é¡µé¢

#### 4.1 å–å®¶ä»ªè¡¨æ¿ (`/seller/dashboard/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… ä½¿ç”¨ `useAuthGuard` è¿›è¡Œè®¤è¯æ£€æŸ¥
- âœ… æ”¶æ¬¾è´¦æˆ·çŠ¶æ€æ¨ªå¹…ï¼ˆè§†è§‰åé¦ˆæ¸…æ™°ï¼‰
- âœ… ç»Ÿè®¡æ•°æ®åŠ è½½æœ‰é”™è¯¯å¤„ç†
- âœ… åŠ è½½çŠ¶æ€å¤„ç†å®Œå–„

**é—®é¢˜**:
- âš ï¸ ç¼ºå°‘å–å®¶è§’è‰²éªŒè¯ï¼ˆä»…æ£€æŸ¥è®¤è¯ï¼Œæœªæ£€æŸ¥æ˜¯å¦ä¸ºå–å®¶ï¼‰
- âš ï¸ ç»Ÿè®¡æ•°æ®æŸ¥è¯¢å¯èƒ½è¾ƒæ…¢ï¼ˆå¤šä¸ªå¹¶è¡ŒæŸ¥è¯¢ï¼‰

**å»ºè®®**:
```typescript
// æ·»åŠ å–å®¶è§’è‰²æ£€æŸ¥
const { data: profile } = await supabase
  .from('profiles')
  .select('subscription_type')
  .eq('id', user.id)
  .single()

if (profile?.subscription_type !== 'seller') {
  router.push('/')
  return null
}
```

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 4.2 å–å®¶å•†å“åˆ—è¡¨ (`/seller/products/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… `useAuth` + `useEffect` æœªç™»å½•é‡å®šå‘ï¼Œå¹¶å¸¦ `redirect` å›åŸé¡µ
- âœ… ä»…æŸ¥è¯¢ `seller_id === user.id`ï¼Œæ•°æ®éš”ç¦»æ­£ç¡®
- âœ… åŠ è½½ã€ç©ºæ€ã€åˆ é™¤ toastã€refetch

**é—®é¢˜**:
- âš ï¸ åˆ é™¤ä½¿ç”¨ `confirm()`ï¼Œå»ºè®®æ”¹ä¸ºç¡®è®¤å¼¹çª—
- âš ï¸ æ— å–å®¶è§’è‰²æ ¡éªŒï¼Œä»»æ„ç™»å½•ç”¨æˆ·å¯è¿›ï¼ˆåˆ—è¡¨ä¸ºç©ºï¼‰ï¼Œè‹¥ä¸šåŠ¡è¦æ±‚ä»…å–å®¶å¯è®¿é—®éœ€åŠ æ ¡éªŒ

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 4.3 å–å®¶è®¢å•åˆ—è¡¨ (`/seller/orders/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… `useAuthGuard` è®¤è¯
- âœ… ä»…æŸ¥è¯¢ `seller_id === user.id`
- âœ… å‘è´§æˆªæ­¢ã€è¶…æ—¶ã€ç´§æ€¥æ€å±•ç¤ºï¼ˆ`ship_by_date`ï¼‰
- âœ… çŠ¶æ€è‰²å½©ã€ç©ºæ€ã€åŠ è½½æ€

**å»ºè®®**:
- âš ï¸ â€œå‘è´§â€é“¾åˆ°è®¢å•è¯¦æƒ…ï¼Œè‹¥è¯¦æƒ…é¡µæ— å‘è´§è¡¨å•ï¼Œéœ€ç¡®è®¤å®é™…å‘è´§å…¥å£

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 4.4 åˆ›å»ºå•†å“ (`/seller/products/create/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: `useAuth`ã€æ ¡éªŒå–å®¶è®¢é˜…ï¼›`useImageUpload`ã€è¡¨å•æ ¡éªŒï¼›æœªé€šè¿‡æ—¶æç¤ºå¹¶ç¦ç”¨åˆ›å»º

---

#### 4.5 ç¼–è¾‘å•†å“ (`/seller/products/[id]/edit/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: `useAuth`ï¼›å•†å“æŸ¥è¯¢ `.eq('seller_id', user.id)`ï¼Œä»…æœ¬äººå¯ç¼–è¾‘ï¼›åŠ è½½ã€é”™è¯¯ã€toast

---

#### 4.6 å–å®¶æ•°æ® (`/seller/analytics/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: `useAuthGuard`ï¼›æŒ‰ `seller_id` ç»Ÿè®¡è®¢å•ã€å¤è´­ç­‰ï¼›æ—¶é—´èŒƒå›´ã€å›¾è¡¨

---

#### 4.7 å–å®¶æ”¿ç­– (`/seller/policies/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: æœªç™»å½• `router.push` ç™»å½•å¹¶ `redirect`ï¼›æŒ‰ `user_id` è¯»å†™ profile æ”¿ç­–å­—æ®µ

---

#### 4.8 å¸¦è´§è®¾ç½® (`/seller/affiliate-settings/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: `useAuthGuard`ï¼›æŒ‰ `seller_id` ç®¡ç†å•†å“ `allow_affiliate`ã€`commission_rate`

---

#### 4.9 ä¿è¯é‡‘æ”¯ä»˜ (`/seller/deposit/pay/page.tsx`)ã€4.10 æ”¯ä»˜æˆåŠŸ (`/seller/deposit/pay/success/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: æœªç™»å½•é‡å®šå‘ï¼›æŒ‰ `seller_id` æŸ¥ lotï¼›æ”¯ä»˜æ–¹å¼ã€è½®è¯¢/å›è°ƒ

---

#### 4.11 ä¿è¯é‡‘æ”¿ç­– (`/seller/deposit/policy/page.tsx`)ã€4.12 ä¿è¯é‡‘é€€æ¬¾ (`/seller/deposit/refund/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: æœªç™»å½•é‡å®šå‘ï¼›æ”¿ç­–ä¸ºé™æ€è¯´æ˜ï¼›é€€æ¬¾æŒ‰ `seller_id` æŸ¥å¯é€€ lot

---

### 4a. å¸¦è´§ï¼ˆAffiliateï¼‰

#### 4a.1 å¸¦è´§å•†å“ (`/affiliate/products/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**è¯´æ˜**: ä»…æ¸²æŸ“ `AffiliateCenter`ï¼›`AffiliateCenter` ç”¨ `useAuth`ï¼Œæ— æœªç™»å½•é‡å®šå‘ï¼Œæœªç™»å½•å¯èƒ½ç©ºç™½

---

#### 4a.2 å¸¦è´§ç»Ÿè®¡ (`/affiliate/stats/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: `useAuthGuard`ï¼›æŒ‰ `affiliate_id` æŸ¥ä½£é‡‘ã€å¸–å­æ•°ç­‰

---

#### 4a.3 æ¨å¹¿å•†å“ (`/affiliate/products/[id]/promote/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: æœªç™»å½• `router.push` ç™»å½•å¹¶ `redirect`ï¼›æ ¡éªŒå¸¦è´§è®¢é˜…ï¼›æŒ‰ `productId` æ‹‰å•†å“ï¼Œåˆ›å»ºå¸¦è´§å¸–

---

### 5. ç®¡ç†å‘˜é¡µé¢

#### 5.1 ç®¡ç†å‘˜ä»ªè¡¨æ¿ (`/admin/dashboard/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… Server Componentï¼Œæ€§èƒ½å¥½
- âœ… è®¤è¯å’Œæˆæƒæ£€æŸ¥å®Œå–„ï¼ˆæ£€æŸ¥ role === 'admin'ï¼‰
- âœ… ç»Ÿè®¡æ•°æ®ä½¿ç”¨ count æŸ¥è¯¢ï¼ˆé«˜æ•ˆï¼‰
- âœ… ä½¿ç”¨ `redirect()` å¤„ç†æœªæˆæƒè®¿é—®

**é—®é¢˜**:
- âš ï¸ ç»Ÿè®¡æ•°æ®æŸ¥è¯¢æœªå¹¶è¡ŒåŒ–ï¼ˆå¯ä¼˜åŒ–ï¼‰
- âš ï¸ ç¼ºå°‘é”™è¯¯å¤„ç†ï¼ˆå¦‚æœæŸ¥è¯¢å¤±è´¥ï¼‰

**å»ºè®®**:
```typescript
// å¹¶è¡ŒæŸ¥è¯¢ä¼˜åŒ–
const [pendingPosts, pendingProducts, pendingReports, pendingCommissions] = await Promise.all([
  supabase.from('posts').select('*', { count: 'exact', head: true }).eq('status', 'pending'),
  supabase.from('products').select('*', { count: 'exact', head: true }).eq('status', 'pending'),
  supabase.from('reports').select('*', { count: 'exact', head: true }).eq('status', 'pending'),
  supabase.from('affiliate_commissions').select('*', { count: 'exact', head: true }).eq('status', 'pending'),
])
```

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 5.2 ç®¡ç†å‘˜è®¢å•é¡µé¢ (`/admin/orders/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**ï¼ˆå·²ä¿®å¤ï¼‰

**ä¼˜ç‚¹**:
- âœ… å·²æ”¹ä¸º **Server Component**ï¼ŒæœåŠ¡ç«¯ `getUser` + `profiles.role` æ ¡éªŒï¼Œé admin/support åˆ™ `redirect('/')`
- âœ… æœåŠ¡ç«¯å¹¶è¡Œæ‹‰å– ordersã€disputesï¼Œä¼  `AdminOrdersClient` æ¸²æŸ“
- âœ… ä½¿ç”¨ `Link` + `router` æ›¿ä»£ `window.location` / `window.open`

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 5.3 ä¸¾æŠ¥ç®¡ç†é¡µ (`/admin/reports/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… Server Componentï¼ŒæœåŠ¡ç«¯ `getUser` + `profiles.role` æ ¡éªŒ
- âœ… `profileError` / `!profile` æ—¶å‹å¥½é”™è¯¯é¡µï¼Œä¸æš´éœ²æ•æ„Ÿä¿¡æ¯
- âœ… å¼€å‘ç¯å¢ƒ detail æ—¥å¿—ï¼Œç”Ÿäº§ä¸è¾“å‡º
- âœ… æ ¹æ® `userRole` åŒºåˆ†â€œä¸¾æŠ¥ç®¡ç†â€ä¸â€œæˆ‘çš„ä¸¾æŠ¥â€ï¼Œ`ReportManagement` æ¥æ”¶ `userRole`

**æ³¨æ„**: é admin/support ä»å¯è®¿é—®æ­¤é¡µï¼Œçœ‹åˆ°â€œæˆ‘çš„ä¸¾æŠ¥â€ï¼Œå±è®¾è®¡å¦‚æ­¤ã€‚

**ä»£ç è´¨é‡**: â­â­â­â­â­

---

#### 5.4 ç³»ç»Ÿç›‘æ§é¡µ (`/admin/monitoring/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**:
- âœ… è°ƒç”¨ `/api/admin/monitoring/dashboard` è·å–ç›‘æ§æ•°æ®
- âœ… å¥åº·çŠ¶æ€ã€æŒ‡æ ‡ã€Cron ä»»åŠ¡å±•ç¤º
- âœ… åŠ è½½ã€é”™è¯¯ã€åˆ·æ–°

**é—®é¢˜**:
- âš ï¸ ç®¡ç†å‘˜æ ¡éªŒåœ¨å®¢æˆ·ç«¯ `checkAdmin`ï¼Œé€šè¿‡ `router.push('/')` é‡å®šå‘ï¼Œåº”æ”¹ä¸ºæœåŠ¡ç«¯æˆ– API é‰´æƒ
- âš ï¸ ä¸ admin/orders ç±»ä¼¼ï¼Œå»ºè®®ç»Ÿä¸€ä¸ºæœåŠ¡ç«¯æ ¡éªŒ

**ä»£ç è´¨é‡**: â­â­â­

---

#### 5.5 çº çº·è¯¦æƒ… (`/admin/disputes/[id]/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**ï¼ˆå·²ä¿®å¤ï¼‰

**ä¼˜ç‚¹**:
- âœ… å·²æ”¹ä¸º **Server Component**ï¼ŒæœåŠ¡ç«¯ `getUser` + `profiles.role` æ ¡éªŒï¼Œé admin åˆ™ `redirect('/')`
- âœ… æœåŠ¡ç«¯åŠ è½½çº çº·ä¸è®¢å•è¯¦æƒ…ï¼Œä¼  `AdminDisputeClient` æ¸²æŸ“
- âœ… å¡«å†™ resolutionã€refund ç­‰å¹¶è°ƒ `/api/admin/disputes` å¤„ç†
- âœ… æœ‰ loadingã€é”™è¯¯ toast
- âœ… å·²ç§»é™¤ç”Ÿäº§ç¯å¢ƒ `console.error`

**ä»£ç è´¨é‡**: â­â­â­â­â­

---

#### 5.6 å¹³å°è´¹ç”¨ (`/admin/platform-fees/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**: è¡¨å•ã€äº¤æ˜“åˆ—è¡¨ã€æœç´¢ï¼›è°ƒ API æ”¶è´¹
**é—®é¢˜**: é‰´æƒåœ¨å®¢æˆ·ç«¯ `checkAdmin` + `router.push('/')`ï¼Œåº”æ”¹ä¸ºæœåŠ¡ç«¯

**ä»£ç è´¨é‡**: â­â­â­

---

#### 5.7 è¿è§„æ‰£æ¬¾ (`/admin/violation-penalties/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**: è¿è§„åˆ—è¡¨ã€è¡¨å•ã€æœç´¢ï¼›è°ƒ API æ‰£æ¬¾
**é—®é¢˜**: é‰´æƒåœ¨å®¢æˆ·ç«¯ `checkAdmin` + `router.push('/')`ï¼Œåº”æ”¹ä¸ºæœåŠ¡ç«¯

**ä»£ç è´¨é‡**: â­â­â­

---

#### 5.8 å–å®¶æ¬ æ¬¾ (`/admin/seller-debts/page.tsx`)ã€`/admin/seller-debts/[sellerId]/page.tsx`
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**: æ¬ æ¬¾åˆ—è¡¨ã€è¯¦æƒ…ã€ç­›é€‰ï¼›æ•°æ®æŒ‰ seller éš”ç¦»
**é—®é¢˜**: é‰´æƒåœ¨å®¢æˆ·ç«¯ `checkAdmin` + `router.push('/')`ï¼Œåº”æ”¹ä¸ºæœåŠ¡ç«¯

**ä»£ç è´¨é‡**: â­â­â­

---

#### 5.9 å¹³å°æ”¶æ¬¾è´¦æˆ· (`/admin/platform-payment-accounts/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**: è´¦æˆ·åˆ—è¡¨ã€è¡¨å•ã€å¯ç”¨/åœç”¨
**é—®é¢˜**: é‰´æƒåœ¨å®¢æˆ·ç«¯ï¼Œåº”æ”¹ä¸ºæœåŠ¡ç«¯

**ä»£ç è´¨é‡**: â­â­â­

---

#### 5.10 å–å®¶æ”¶æ¬¾è´¦æˆ·å®¡æ ¸ (`/admin/payment-accounts/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**: å¾…å®¡æ ¸è´¦æˆ·ã€é€šè¿‡/æ‹’ç»ã€å¤‡æ³¨
**é—®é¢˜**: é‰´æƒåœ¨å®¢æˆ·ç«¯ï¼Œåº”æ”¹ä¸ºæœåŠ¡ç«¯

**ä»£ç è´¨é‡**: â­â­â­

---

#### 5.11 å†…å®¹å®¡æ ¸ (`/admin/review/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: Server Componentï¼ŒæœåŠ¡ç«¯ `getUser` + role æ ¡éªŒï¼ˆadmin/supportï¼‰ï¼Œ`redirect`ï¼›`ContentReview` äº¤äº’

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 5.12 å®¢æœå·¥å•ç®¡ç† (`/admin/support/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**: æœªç™»å½• `router.push('/login')`ï¼›é admin/support æ˜¾ç¤ºé”™è¯¯ï¼›å·¥å•åˆ—è¡¨ã€çŠ¶æ€ã€åˆ†é…
**é—®é¢˜**: é‰´æƒåœ¨å®¢æˆ·ç«¯ï¼›**`allSupportTickets` æŸ¥è¯¢æ—  `enabled`**ï¼Œåœ¨ profile æœªå°±ç»ªæ—¶ä¹Ÿä¼šè¯·æ±‚ï¼Œå­˜åœ¨æ³„éœ²é£é™©ï¼Œåº” `enabled: !!user && (profile?.role === 'admin' || profile?.role === 'support')`

**ä»£ç è´¨é‡**: â­â­â­

---

### 6. ç¤¾äº¤åŠŸèƒ½é¡µé¢

#### 6.1 å¸–å­è¯¦æƒ…é¡µ (`/post/[id]/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… `usePost` åŠ è½½å•å¸–ï¼Œloading / error / ä¸å­˜åœ¨æ—¶ `EmptyState`
- âœ… ç‚¹èµã€æ”¶è—ã€æ‰“èµã€å…³æ³¨ã€ä¸¾æŠ¥ã€è½¬å‘ã€åˆ†äº«ã€è¯„è®ºç­‰äº¤äº’
- âœ… è½¬å‘å‰æ£€æŸ¥ç™»å½•

**é—®é¢˜**:
- âš ï¸ æœªæ ¡éªŒå¸–å­ `status`ï¼Œpending/rejected æ˜¯å¦å¯¹å½“å‰ç”¨æˆ·å¯è§æœªæ˜ç¡®
- âš ï¸ `usePosts('approved')` å…¨é‡æ‹‰å–åæŒ‰ `user_id` è¿‡æ»¤ä¸ªäººå¸–ï¼Œä¸ªäººä¸»é¡µåœºæ™¯å¯èƒ½æµªè´¹ï¼›è‹¥ä»…è¯¦æƒ…é¡µç”¨ï¼Œå¯è€ƒè™‘å•ç‹¬æ¥å£

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 6.4 ä¿¡æ¯æµ (`/feed/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… `usePosts('approved')` åˆ†é¡µï¼Œloading / error / ç©ºæ€ã€åŠ è½½æ›´å¤š
- âœ… Masonry å¸ƒå±€ã€`PostCard`ï¼Œæ— éœ€ç™»å½•å¯æµè§ˆ

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 6.2 åˆ›å»ºå¸–å­é¡µé¢ (`/post/create/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… `useAuthGuard` è®¤è¯ï¼Œæœªç™»å½•ä¸æ¸²æŸ“
- âœ… å†…å®¹æˆ–å›¾ç‰‡äºŒé€‰ä¸€æ ¡éªŒï¼ˆ`!content.trim() && imagePreviews.length === 0` æ—¶ toastï¼‰
- âœ… `useImageUpload` é™åˆ¶æœ€å¤š 9 å¼ ï¼Œbucket `posts`
- âœ… è¯é¢˜åˆ›å»º/å…³è”ã€å®šä½å¯é€‰
- âœ… å¸–å­ `status: 'pending'` éœ€å®¡æ ¸
- âœ… æäº¤å invalidate ç›¸å…³ queryã€è·³è½¬è¯¦æƒ…

**é—®é¢˜**:
- âš ï¸ ç”Ÿäº§ç¯å¢ƒé—ç•™ `console.error`ï¼ˆç¬¬ 149 è¡Œï¼‰
- âš ï¸ æ—  content é•¿åº¦ã€æ•æ„Ÿè¯æ ¡éªŒï¼›æ— å•å¼ å›¾ç‰‡å¤§å°é™åˆ¶è¯´æ˜
- âš ï¸ è¯é¢˜ `slug` ä»… `toLowerCase` + æ›¿æ¢ç©ºæ ¼ï¼Œæœªåšå”¯ä¸€çº¦æŸå†²çªå¤„ç†

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 6.3 æ¶ˆæ¯åˆ—è¡¨ (`/messages/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**: ä»…æ¸²æŸ“ `ChatList`ï¼›`ChatList` ç”¨ `useAuth` ä¸”æŒ‰ `participant1/2_id` è¿‡æ»¤ä¼šè¯ï¼Œæ•°æ®éš”ç¦»æ­£ç¡®
**é—®é¢˜**: **æœªåšæœªç™»å½•é‡å®šå‘**ï¼Œæœªç™»å½•æ—¶å¯èƒ½ç©ºç™½æˆ–æŠ¥é”™

---

#### 6.5 æ¶ˆæ¯è¯¦æƒ… (`/messages/[id]/page.tsx`)
**çŠ¶æ€**: âŒ **ä¸¥é‡é—®é¢˜**

**ä¼˜ç‚¹**: æŒ‰ `conversationId` æ‹‰å–ä¼šè¯ï¼Œ`ChatWindow` å±•ç¤ºï¼›loadingã€ä¸å­˜åœ¨æ—¶æç¤º
**é—®é¢˜**: **æœªæ ¡éªŒå½“å‰ç”¨æˆ·æ˜¯å¦ä¸ºä¼šè¯å‚ä¸è€…**ï¼›ä»…ç”¨ `participant1_id`/`participant2_id` åŒºåˆ†å·¦å³å¸ƒå±€ï¼Œæœªæ£€æŸ¥ `user?.id` æ˜¯å¦ä¸ºå…¶ä¸€ï¼Œ**ä»»ä½•äººæŒ `conversationId` å¯æŸ¥çœ‹ä»–äººç§ä¿¡**
**å»ºè®®**: æ ¡éªŒ `participant1_id === user.id || participant2_id === user.id`ï¼›æœªç™»å½•é‡å®šå‘

---

#### 6.6 å…³æ³¨æµ (`/following/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: `!user` æ—¶å±•ç¤ºã€Œè¯·ç™»å½•ã€ï¼›æŒ‰ `follows` è¿‡æ»¤ `usePosts('approved')`ï¼Œç©ºæ€ã€loading

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 6.7 æ”¶è— (`/favorites/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: `!user` æ—¶å±•ç¤ºã€Œè¯·ç™»å½•ã€ï¼›`useFavorites`ã€æ‰¹é‡åˆ é™¤ã€Tab ç­›é€‰ï¼›`.eq('user_id', user.id)` éš”ç¦»

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 6.8 è¯é¢˜é¡µ (`/topics/[topic]/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: æŒ‰ `slug` æ‹‰å–è¯é¢˜ï¼›`usePosts('approved')` è¿‡æ»¤è¯¥è¯é¢˜å¸–å­ï¼›å…³æ³¨è¯é¢˜ï¼›æ— éœ€ç™»å½•å¯æµè§ˆ

**ä»£ç è´¨é‡**: â­â­â­â­

---

### 7. ä¸ªäººèµ„æ–™é¡µé¢

#### 7.1 ä¸ªäººèµ„æ–™é¡µ (`/profile/[id]/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… `useProfile(userId)` åŠ è½½èµ„æ–™ï¼Œloading / error / ä¸å­˜åœ¨æ—¶å‹å¥½æç¤º
- âœ… å¸–å­ã€æ”¶è— tabï¼Œå…³æ³¨ã€ä¸¾æŠ¥ã€ç§ä¿¡ç­‰
- âœ… `isOwnProfile` åŒºåˆ†æœ¬äººä¸ä»–äººçš„å±•ç¤ºä¸æ“ä½œ

**é—®é¢˜**:
- âš ï¸ ä½¿ç”¨ `usePosts('approved')` å…¨é‡å†æŒ‰ `user_id` è¿‡æ»¤ï¼Œæ•°æ®é‡å¤§æ—¶å»ºè®®æŒ‰ç”¨æˆ·åˆ†é¡µæˆ–å•ç‹¬æ¥å£

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 7.2 ç¼–è¾‘ä¸ªäººèµ„æ–™ (`/profile/[id]/edit/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… `useAuth` + `useProfile`ï¼Œæœªç™»å½•è·³è½¬ç™»å½•å¹¶å¸¦ `redirect`
- âœ… **ä»…æœ¬äººå¯ç¼–è¾‘**ï¼š`user.id !== profile.id` æ—¶ `router.push` åˆ°ä¸ªäººä¸»é¡µ
- âœ… ç”¨æˆ·åå”¯ä¸€æ€§æ ¡éªŒï¼ˆæ’é™¤å½“å‰ç”¨æˆ·ï¼‰
- âœ… display_name / username å¿…å¡«ï¼Œbio æœ€å¤§ 500ï¼Œloading / error å¤„ç†å®Œå–„
- âœ… å¤´åƒ `useImageUpload` å•å¼ ï¼Œ`avatars` bucket

**é—®é¢˜**:
- âš ï¸ ç”Ÿäº§ç¯å¢ƒé—ç•™ `console.error`ï¼ˆç¬¬ 176 è¡Œï¼‰
- âš ï¸ å¤´åƒæœªæ˜ç¡®é™åˆ¶æ–‡ä»¶å¤§å°ï¼ˆä¾èµ– `useImageUpload` æˆ– storage é…ç½®ï¼‰

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 7.3 åœ°å€ç®¡ç† (`/profile/addresses/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: `!user` æ—¶ return å ä½ï¼›`user_addresses` æŒ‰ `user_id` æŸ¥è¯¢ï¼›å¢åˆ æ”¹ã€è®¾é»˜è®¤ï¼›loadingã€toast

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 7.4 è®¾ç½® (`/settings/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: é™æ€ã€Œå¼€å‘ä¸­ã€è¯´æ˜ï¼Œæ— æ•æ„Ÿæ“ä½œ

---

#### 7.5 æœç´¢ (`/search/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: å¸–å­/å•†å“/ç”¨æˆ·æœç´¢ï¼Œä»…æŸ¥ `approved`/`active`ï¼›æ— éœ€ç™»å½•
**é—®é¢˜**: âš ï¸ `console.error` ç”Ÿäº§ç¯å¢ƒå»ºè®®ç§»é™¤

---

#### 7.6 æ•°æ® (`/insights/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: `!user` å±•ç¤ºã€Œè¯·ç™»å½•ã€ï¼›æŒ‰ `user_id` ç»Ÿè®¡å¸–å­ã€ç‚¹èµã€å…³æ³¨ç­‰

---

#### 7.7 å…³äº (`/about/page.tsx`)ã€7.8 éšç§ (`/privacy/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**: é™æ€æ–‡æ¡ˆï¼Œæ— éœ€ç™»å½•

---

### 8. æ”¯æŒé¡µé¢

#### 8.1 å·¥å•åˆ—è¡¨ (`/support/tickets/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**:
- âœ… æœªç™»å½• `router.push('/login')` å¹¶ `return null`
- âœ… ä»…æŸ¥è¯¢ `user_id === user.id`ï¼Œæ•°æ®éš”ç¦»æ­£ç¡®
- âœ… åŠ è½½ã€ç©ºæ€ã€çŠ¶æ€å±•ç¤º

**é—®é¢˜**:
- âš ï¸ æœªç™»å½•æ—¶å…ˆ `return null` å† `router.push`ï¼Œå¯èƒ½çŸ­æš‚é—ªå±
- âš ï¸ æ—  loading æœŸé—´å ä½ï¼Œauth  resolving æ—¶æ—  UI åé¦ˆ

**ä»£ç è´¨é‡**: â­â­â­

---

#### 8.2 åˆ›å»ºå·¥å• (`/support/tickets/create/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**:
- âœ… æœªç™»å½•é‡å®šå‘ç™»å½•
- âœ… è¡¨å•å¿…å¡«ã€ticket_type / priority
- âœ… æäº¤åè·³è½¬åˆ—è¡¨ï¼Œé”™è¯¯ toast

**é—®é¢˜**:
- âš ï¸ æ—  title/description é•¿åº¦ã€æ•æ„Ÿè¯ç­‰æ ¡éªŒ
- âš ï¸ æœªç™»å½•å³ `return null`ï¼ŒåŒåˆ—è¡¨é¡µé—ªå±

**ä»£ç è´¨é‡**: â­â­â­

---

#### 8.3 å·¥å•è¯¦æƒ… (`/support/tickets/[id]/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**ï¼ˆå·²ä¿®å¤ï¼‰

**ä¼˜ç‚¹**:
- âœ… å·²æ”¹ä¸º **Server Component**ï¼ŒæœåŠ¡ç«¯æ ¡éªŒ `ticket.user_id === user.id` æˆ– admin/support
- âœ… æœªç™»å½•é‡å®šå‘ç™»å½•å¹¶å¸¦ `redirect` å‚æ•°
- âœ… åŠ è½½ã€ä¸å­˜åœ¨æ—¶ `notFound()`
- âœ… å›å¤è¡¨å•ã€`replyMutation`ã€æœªå…³é—­æ‰å±•ç¤ºå›å¤
- âœ… æå– `TicketDetailClient` å¤„ç†äº¤äº’é€»è¾‘

**ä»£ç è´¨é‡**: â­â­â­â­â­

---

#### 8.4 å¸®åŠ©é¡µ (`/help/page.tsx`)
**çŠ¶æ€**: âœ… **é€šè¿‡**

**ä¼˜ç‚¹**:
- âœ… é™æ€è¯´æ˜ + é“¾æ¥è‡³å·¥å•åˆ›å»º/åˆ—è¡¨ï¼Œæ— æ•æ„Ÿæ“ä½œ
- âœ… æ— éœ€ç™»å½•å¯è®¿é—®

**ä»£ç è´¨é‡**: â­â­â­â­

---

#### 8.5 é€šçŸ¥é¡µ (`/notifications/page.tsx`)
**çŠ¶æ€**: âš ï¸ **éœ€è¦æ”¹è¿›**

**ä¼˜ç‚¹**: ä»…æ¸²æŸ“ `NotificationList`ï¼›`NotificationList` æŒ‰ `user_id` æŸ¥é€šçŸ¥ï¼Œ`enabled: !!user`ï¼Œå®æ—¶è®¢é˜…
**é—®é¢˜**: **æœªç™»å½•æ— é‡å®šå‘**ï¼Œé¡µé¢ä»æ¸²æŸ“æ ‡é¢˜ï¼Œåˆ—è¡¨ä¸ºç©ºï¼›è‹¥ä¸šåŠ¡è¦æ±‚ä»…ç™»å½•å¯è®¿é—®ï¼Œéœ€é‡å®šå‘æˆ–å ä½æ–‡æ¡ˆ

---

## ğŸš¨ ä¸¥é‡é—®é¢˜æ±‡æ€»

### âœ… å·²ä¿®å¤

1. **âœ… è®¢å•è¯¦æƒ…é¡µ - æœªå®šä¹‰å˜é‡** (å·²ä¿®å¤)
   - æ–‡ä»¶: `src/app/[locale]/(main)/orders/[id]/page.tsx`
   - è¡Œå·: 321
   - é—®é¢˜: `existingFeedback` æœªå®šä¹‰
   - ä¿®å¤: æ·»åŠ äº† `useOrderFeedback` hook è°ƒç”¨
   - çŠ¶æ€: âœ… å·²ä¿®å¤

2. **âœ… ç®¡ç†å‘˜è®¢å•é¡µ - å®¢æˆ·ç«¯é‡å®šå‘** (å·²ä¿®å¤)
   - æ–‡ä»¶: `src/app/[locale]/(main)/admin/orders/page.tsx`
   - è¡Œå·: 78
   - é—®é¢˜: ä½¿ç”¨ `window.location.href` è€Œé Next.js router
   - ä¿®å¤: æ”¹ä¸ºä½¿ç”¨ `router.push('/')`
   - çŠ¶æ€: âœ… å·²ä¿®å¤

### âœ… å·²ä¿®å¤ï¼ˆä¸Šä¸€è½®ï¼‰

3. **âœ… è®¢å•æ”¯ä»˜é¡µ - é“¶è¡Œè½¬è´¦ä¸ä¹°å®¶æ ¡éªŒ**ï¼ˆå·²ä¿®å¤ï¼‰
   - é“¶è¡Œè½¬è´¦å·²è¿è‡³ `/api/payments/bank/init`ï¼Œä»…æœåŠ¡ç«¯ä½¿ç”¨ Admin Client
   - æ”¯ä»˜é¡µå·²æ ¡éªŒ `order.buyer_id === user?.id`ï¼Œæœªç™»å½•é‡å®šå‘ç™»å½•

### âœ… å·²ä¿®å¤ï¼ˆæœ¬è½®ï¼‰

4. **âœ… å·¥å•è¯¦æƒ…é¡µ - å·¥å•å½’å±æ ¡éªŒ**ï¼ˆå·²ä¿®å¤ï¼‰
   - æ–‡ä»¶: `src/app/[locale]/(main)/support/tickets/[id]/page.tsx`
   - ä¿®å¤: æ”¹ä¸º Server Componentï¼ŒæœåŠ¡ç«¯æ ¡éªŒ `ticket.user_id === user.id` æˆ– admin/supportï¼›æœªç™»å½•é‡å®šå‘
   - çŠ¶æ€: âœ… å·²ä¿®å¤

5. **âœ… è®¢å•ç‰©æµé¡µ - è®¢å•å½’å±æ ¡éªŒ**ï¼ˆå·²ä¿®å¤ï¼‰
   - æ–‡ä»¶: `src/app/[locale]/(main)/orders/[id]/tracking/page.tsx`
   - ä¿®å¤: æ”¹ä¸º Server Componentï¼ŒæœåŠ¡ç«¯æ ¡éªŒ `order.buyer_id === user.id` æˆ– `order.seller_id === user.id`ï¼›æœªç™»å½•é‡å®šå‘
   - çŠ¶æ€: âœ… å·²ä¿®å¤

6. **âœ… ç®¡ç†å‘˜çº çº·è¯¦æƒ… - æœåŠ¡ç«¯é‰´æƒ**ï¼ˆå·²ä¿®å¤ï¼‰
   - æ–‡ä»¶: `src/app/[locale]/(main)/admin/disputes/[id]/page.tsx`
   - ä¿®å¤: æ”¹ä¸º Server Componentï¼ŒæœåŠ¡ç«¯é‰´æƒï¼›ç§»é™¤ç”Ÿäº§ç¯å¢ƒ `console.error`
   - çŠ¶æ€: âœ… å·²ä¿®å¤

### âš ï¸ ä»éœ€ä¿®å¤

7. **æ¶ˆæ¯è¯¦æƒ…é¡µ - æœªæ ¡éªŒä¼šè¯å‚ä¸äºº**ï¼ˆç¬¬å››è½®æ–°å¢ï¼‰
   - æ–‡ä»¶: `src/app/[locale]/(main)/messages/[id]/page.tsx`
   - é—®é¢˜: æŒ‰ `conversationId` æ‹‰å–ä¼šè¯ï¼Œæœªæ£€æŸ¥ `participant1_id`/`participant2_id` æ˜¯å¦åŒ…å« `user.id`ï¼Œä»»ä½•äººæŒ id å¯æŸ¥çœ‹ä»–äººç§ä¿¡
   - å»ºè®®: æ ¡éªŒå‚ä¸è€…èº«ä»½ï¼›æœªç™»å½•é‡å®šå‘

8. **æˆæƒæ£€æŸ¥ä¸ä¸€è‡´**
   - å¤šä¸ªé¡µé¢åœ¨å®¢æˆ·ç«¯æ£€æŸ¥æˆæƒï¼Œåº”åœ¨æœåŠ¡ç«¯æ£€æŸ¥
   - å½±å“: å®‰å…¨æ€§é£é™©
   - å»ºè®®: å°†å…³é”®é¡µé¢çš„æˆæƒæ£€æŸ¥ç§»åˆ°æœåŠ¡ç«¯ï¼ˆServer Componentï¼‰

---

## âš ï¸ éœ€è¦æ”¹è¿›çš„é—®é¢˜

### é«˜ä¼˜å…ˆçº§

1. **ç¼ºå°‘è§’è‰²éªŒè¯**
   - å–å®¶é¡µé¢æœªéªŒè¯ç”¨æˆ·æ˜¯å¦ä¸ºå–å®¶
   - ç®¡ç†å‘˜é¡µé¢éƒ¨åˆ†åœ¨å®¢æˆ·ç«¯éªŒè¯

2. **é”™è¯¯å¤„ç†ä¸å®Œæ•´**
   - éƒ¨åˆ†é¡µé¢ç¼ºå°‘é”™è¯¯è¾¹ç•Œ
   - éƒ¨åˆ† API è°ƒç”¨ç¼ºå°‘é”™è¯¯å¤„ç†

3. **æ€§èƒ½ä¼˜åŒ–**
   - éƒ¨åˆ†é¡µé¢æŸ¥è¯¢æœªå¹¶è¡ŒåŒ–
   - ç¼ºå°‘ç¼“å­˜ç­–ç•¥

### ä¸­ä¼˜å…ˆçº§

1. **ç”¨æˆ·ä½“éªŒ**
   - éƒ¨åˆ†æ“ä½œç¼ºå°‘åŠ è½½çŠ¶æ€
   - éƒ¨åˆ†é”™è¯¯æ¶ˆæ¯ä¸å¤Ÿå‹å¥½

2. **è¾“å…¥éªŒè¯**
   - éƒ¨åˆ†è¡¨å•ç¼ºå°‘å®¢æˆ·ç«¯éªŒè¯
   - æ–‡ä»¶ä¸Šä¼ ç¼ºå°‘å¤§å°å’Œç±»å‹æ£€æŸ¥

---

## âœ… æœ€ä½³å®è·µç¤ºä¾‹

### 1. æœåŠ¡ç«¯æˆæƒæ£€æŸ¥ï¼ˆæ¨èï¼‰
```typescript
// âœ… å¥½çš„åšæ³•
export default async function AdminPage() {
  const supabase = await createClient()
  const { data: { user } } = await supabase.auth.getUser()
  
  if (!user) {
    redirect('/login')
  }
  
  const { data: profile } = await supabase
    .from('profiles')
    .select('role')
    .eq('id', user.id)
    .single()
  
  if (profile?.role !== 'admin') {
    redirect('/')
  }
  
  // é¡µé¢å†…å®¹
}
```

### 2. é”™è¯¯å¤„ç†ï¼ˆæ¨èï¼‰
```typescript
// âœ… å¥½çš„åšæ³•
const { data, error } = await supabase.from('table').select('*')

if (error) {
  console.error('Error:', error)
  return <ErrorComponent message="åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•" />
}

if (!data || data.length === 0) {
  return <EmptyState />
}
```

### 3. åŠ è½½çŠ¶æ€ï¼ˆæ¨èï¼‰
```typescript
// âœ… å¥½çš„åšæ³•
if (isLoading) {
  return (
    <div className="flex items-center justify-center py-12">
      <Loader2 className="h-8 w-8 animate-spin" />
    </div>
  )
}
```

---

## ğŸ“Š ç»Ÿè®¡

- **æ€»é¡µé¢æ•°**: 71
- **å·²å®¡è®¡**: 71
- **é€šè¿‡**: 48
- **éœ€è¦æ”¹è¿›**: 23ï¼ˆå« 1 ä¸¥é‡ï¼‰
- **ä¸¥é‡é—®é¢˜**: 1ï¼ˆæ¶ˆæ¯è¯¦æƒ…è¶Šæƒï¼‰
- **å¾…æ£€æŸ¥**: 0

---

## ğŸ”„ åç»­è¡ŒåŠ¨

### âœ… å·²å®Œæˆï¼ˆå·²ä¿®å¤ï¼‰
1. âœ… ä¿®å¤è®¢å•è¯¦æƒ…é¡µçš„ `existingFeedback` æœªå®šä¹‰é—®é¢˜
2. âœ… ä¿®å¤ç®¡ç†å‘˜è®¢å•é¡µçš„é‡å®šå‘é—®é¢˜

### âœ… å·²å®Œæˆï¼ˆæœ¬è½®ä¿®å¤ï¼‰
1. âœ… **å·¥å•è¯¦æƒ…é¡µ**ï¼šå·²æ”¹ä¸º Server Componentï¼Œæ ¡éªŒå·¥å•å½’å± + æœªç™»å½•é‡å®šå‘
2. âœ… **è®¢å•ç‰©æµé¡µ**ï¼šå·²æ”¹ä¸º Server Componentï¼Œæ ¡éªŒä¹°å®¶/å–å®¶ + æœªç™»å½•é‡å®šå‘
3. âœ… **ç®¡ç†å‘˜çº çº·è¯¦æƒ…**ï¼šå·²æ”¹ä¸º Server Componentï¼ŒæœåŠ¡ç«¯é‰´æƒ

### ç«‹å³è¡ŒåŠ¨ï¼ˆä¸Šçº¿å‰å¿…é¡»å®Œæˆï¼‰
1. âŒ **æ¶ˆæ¯è¯¦æƒ…é¡µ**ï¼šæ ¡éªŒ `participant1_id === user.id || participant2_id === user.id`ï¼›æœªç™»å½•é‡å®šå‘
2. âš ï¸ ç»Ÿä¸€æˆæƒæ£€æŸ¥åˆ°æœåŠ¡ç«¯ï¼ˆadmin platform-feesã€violation-penaltiesã€seller-debtsã€supportã€platform-payment-accountsã€payment-accountsã€monitoring ç­‰ï¼‰
3. âš ï¸ å®¢æœå·¥å•ç®¡ç†ï¼š`allSupportTickets` æŸ¥è¯¢åŠ  `enabled: !!user && (profile?.role === 'admin' || profile?.role === 'support')`

### çŸ­æœŸæ”¹è¿›ï¼ˆ1-2å‘¨ï¼‰
1. å®Œæˆæ‰€æœ‰é¡µé¢çš„è¯¦ç»†å®¡è®¡
2. æ·»åŠ ç¼ºå¤±çš„é”™è¯¯å¤„ç†
3. ä¼˜åŒ–æ€§èƒ½ï¼ˆå¹¶è¡ŒæŸ¥è¯¢ã€ç¼“å­˜ï¼‰

### é•¿æœŸä¼˜åŒ–ï¼ˆ1ä¸ªæœˆï¼‰
1. æ·»åŠ å…¨é¢çš„é”™è¯¯ç›‘æ§
2. æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–
3. ç”¨æˆ·ä½“éªŒæ”¹è¿›

---

## ğŸ“ å®¡è®¡æ–¹æ³•

### æ£€æŸ¥æ¸…å•

æ¯ä¸ªé¡µé¢æ£€æŸ¥ä»¥ä¸‹é¡¹ç›®ï¼š

- [ ] **å®‰å…¨æ€§**
  - [ ] è®¤è¯æ£€æŸ¥ï¼ˆæœªç™»å½•ç”¨æˆ·å¤„ç†ï¼‰
  - [ ] æˆæƒæ£€æŸ¥ï¼ˆè§’è‰²/æƒé™éªŒè¯ï¼‰
  - [ ] è¾“å…¥éªŒè¯ï¼ˆXSSã€SQLæ³¨å…¥é˜²æŠ¤ï¼‰
  - [ ] æ•æ„Ÿæ•°æ®ä¿æŠ¤

- [ ] **é”™è¯¯å¤„ç†**
  - [ ] é”™è¯¯è¾¹ç•Œ
  - [ ] ç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯
  - [ ] é”™è¯¯æ—¥å¿—è®°å½•
  - [ ] é‡è¯•æœºåˆ¶ï¼ˆå¦‚é€‚ç”¨ï¼‰

- [ ] **æ€§èƒ½**
  - [ ] Server Component vs Client Component
  - [ ] æ•°æ®è·å–ä¼˜åŒ–ï¼ˆå¹¶è¡ŒæŸ¥è¯¢ï¼‰
  - [ ] ç¼“å­˜ç­–ç•¥
  - [ ] ä»£ç åˆ†å‰²

- [ ] **ç”¨æˆ·ä½“éªŒ**
  - [ ] åŠ è½½çŠ¶æ€
  - [ ] ç©ºçŠ¶æ€å¤„ç†
  - [ ] é”™è¯¯çŠ¶æ€å¤„ç†
  - [ ] å“åº”å¼è®¾è®¡

- [ ] **ç”Ÿäº§å°±ç»ªæ€§**
  - [ ] ç¯å¢ƒå˜é‡ä½¿ç”¨
  - [ ] å›½é™…åŒ–æ”¯æŒ
  - [ ] SEOä¼˜åŒ–
  - [ ] å¯è®¿é—®æ€§

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2026-01-25  
**å®¡è®¡äººå‘˜**: AI Assistant  
**ä¸Šæ¬¡æ›´æ–°**: 2026-01-25ï¼ˆç¬¬å››è½®ï¼šå®Œæˆå‰©ä½™ 35 é¡µå®¡è®¡ï¼‰

---

## ğŸ“Œ ç¬¬å››è½®å®¡è®¡æ›´æ–°ï¼ˆ2026-01-25ï¼‰

**æœ¬è½®å®¡è®¡**: å‰©ä½™ 35 ä¸ªé¡µé¢ï¼Œ**å…¨éƒ¨å®Œæˆ**ï¼›å¾…æ£€æŸ¥å½’é›¶ã€‚

| æ¨¡å— | æ–°å¢å®¡è®¡é¡µé¢ | é€šè¿‡ | éœ€æ”¹è¿› | ä¸¥é‡ |
|------|-------------|------|--------|------|
| æ ¸å¿ƒ | è®¢å•ç»„ã€è®¢å•è¯„ä»· | 1 | 1 | 0 |
| ç¤¾äº¤ | æ¶ˆæ¯è¯¦æƒ…ã€å…³æ³¨ã€æ”¶è—ã€è¯é¢˜ | 3 | 0 | 1ï¼ˆæ¶ˆæ¯è¯¦æƒ…ï¼‰ |
| ä¸ªäºº | åœ°å€ã€è®¾ç½®ã€æœç´¢ã€æ•°æ®ã€å…³äºã€éšç§ | 6 | 0 | 0 |
| æ”¯ä»˜ | è®¢é˜…æ‰“èµã€å¸¦è´§è®¢é˜…ã€è®¢é˜…æˆåŠŸ | 1 | 2 | 0 |
| å–å®¶ | åˆ›å»º/ç¼–è¾‘å•†å“ã€åˆ†æã€æ”¿ç­–ã€å¸¦è´§è®¾ç½®ã€ä¿è¯é‡‘ 4 é¡µ | 10 | 0 | 0 |
| å¸¦è´§ | å•†å“ã€ç»Ÿè®¡ã€æ¨å¹¿ | 2 | 1 | 0 |
| ç®¡ç†å‘˜ | å¹³å°è´¹ç”¨ã€è¿è§„æ‰£æ¬¾ã€æ¬ æ¬¾ã€å¹³å°/å–å®¶æ”¶æ¬¾è´¦æˆ·ã€å®¡æ ¸ã€å®¢æœå·¥å• | 1 | 6 | 0 |
| æ”¯æŒ | é€šçŸ¥ | 0 | 1 | 0 |

**æœ¬è½®å‘ç°**:
- âŒ **æ¶ˆæ¯è¯¦æƒ…è¶Šæƒ**ï¼šæœªæ ¡éªŒ `participant1_id`/`participant2_id`ï¼Œä»»ä½•äººæŒ `conversationId` å¯æŸ¥çœ‹ä»–äººç§ä¿¡ï¼Œ**å¿…é¡»ä¿®å¤**
- âš ï¸ è®¢å•ç»„æœªç™»å½•å¯è®¿é—®ã€æ— é‡å®šå‘
- âš ï¸ å¤šç±»ç®¡ç†å‘˜é¡µï¼ˆplatform-feesã€violation-penaltiesã€seller-debtsã€platform-payment-accountsã€payment-accountsã€supportã€monitoringï¼‰ä»ä¸º**å®¢æˆ·ç«¯é‰´æƒ**ï¼Œå»ºè®®ç»Ÿä¸€æ”¹ä¸ºæœåŠ¡ç«¯
- âš ï¸ å®¢æœå·¥å•ç®¡ç†ï¼š`allSupportTickets` æ—  `enabled` é™åˆ¶ï¼Œå­˜åœ¨æ³„éœ²é£é™©
- âš ï¸ é€šçŸ¥ã€æ¶ˆæ¯åˆ—è¡¨ã€å¸¦è´§å•†å“ã€è®¢é˜…ç®¡ç†/æ‰“èµ/å¸¦è´§ ç­‰æœªç™»å½•è¡Œä¸ºä¸ç»Ÿä¸€ï¼ˆé‡å®šå‘ vs å ä½ï¼‰

**å†å²**:
- ç¬¬ä¸‰è½®ï¼šå·¥å•è¯¦æƒ…ã€è®¢å•ç‰©æµã€ç®¡ç†å‘˜çº çº·è¯¦æƒ…ä¿®å¤ï¼›è®¢å•åˆ—è¡¨ã€è´­ç‰©è½¦ã€åˆ›å»ºå¸–å­ç­‰
- ç¬¬äºŒè½®ï¼šè®¢å•æ”¯ä»˜ï¼ˆé“¶è¡Œè½¬è´¦è¿ APIã€ä¹°å®¶æ ¡éªŒï¼‰ã€ä¸¾æŠ¥ç®¡ç†ã€ç³»ç»Ÿç›‘æ§ç­‰
- ç¬¬ä¸€è½®ï¼šé¦–é¡µã€å•†å“è¯¦æƒ…ã€ç»“è´¦ã€ç™»å½•ã€ç®¡ç†å‘˜ä»ªè¡¨æ¿ç­‰
