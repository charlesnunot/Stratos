# 商品运费 - 02 商品与展示

## 一、创建页

**文件**：`src/app/[locale]/(main)/seller/products/create/page.tsx`

- FormData 增加 `shipping_fee: string`（如 `'0'`）
- 初始值：`shipping_fee: '0'`
- 在价格/库存区块附近增加运费输入（number，≥0）
- productData 增加：`shipping_fee: parseFloat(formData.shipping_fee) || 0`

---

## 二、编辑页

**文件**：`src/app/[locale]/(main)/seller/products/[id]/edit/page.tsx`

- formData 增加 `shipping_fee: '0'`
- useEffect 加载：`shipping_fee: (product.shipping_fee ?? 0).toString()`
- 增加与创建页一致的运费输入
- productData 增加：`shipping_fee: parseFloat(formData.shipping_fee) || 0`

---

## 三、商品详情页

**文件**：`src/app/[locale]/(main)/product/[id]/ProductPageClient.tsx`

- 在价格、库存附近增加运费展示
- 仅当 `product.shipping_fee > 0` 时显示：`{t('shippingFee')}: ¥{product.shipping_fee.toFixed(2)}`

---

## 四、DTO、Mapper、Hooks

**文件**：`src/lib/product-card/types.ts`  
- `ListProductContentDTO` 增加 `shippingFee?: number`

**文件**：`src/lib/product-card/mappers.ts`  
- 各 mapper 中增加：`shippingFee: raw.shipping_fee ?? 0`

**文件**：`src/lib/hooks/useProducts.ts`  
- Product 接口增加 `shipping_fee?: number`

---

## 五、翻译

**zh.json / en.json**（seller、products 命名空间）：

```json
{
  "shippingFee": "运费" / "Shipping",
  "shippingFeePlaceholder": "0 表示包邮" / "0 means free shipping",
  "productSubtotal": "商品小计" / "Subtotal",
  "shippingTotal": "运费" / "Shipping",
  "grandTotal": "合计" / "Total"
}
```

**checkout 命名空间**：

```json
{
  "productSubtotal": "商品小计" / "Subtotal",
  "shippingFee": "运费" / "Shipping",
  "totalWithShipping": "合计（含运费）" / "Total (with shipping)"
}
```
