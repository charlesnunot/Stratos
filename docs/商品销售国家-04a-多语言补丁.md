# 商品销售国家 - 04a 多语言补丁

针对 `SalesCountriesSelector` 组件硬编码中文问题，制定以下执行方案。

---

## 一、问题描述

`SalesCountriesSelector` 组件内有多处硬编码中文，导致英文环境下仍显示中文。

---

## 二、涉及位置

| 行号 | 硬编码内容 | 用途 |
|------|------------|------|
| 24 | `placeholder = '搜索国家...'` | 搜索框占位符默认值 |
| 110 | `全选` | 全选按钮文案 |
| 122 | `清空` | 清空按钮文案 |
| 132 | `未找到匹配的国家` | 无搜索结果时的提示 |
| 161-162 | `已选择 {selected.length} 个国家/地区` | 已选数量提示 |

---

## 三、执行步骤

### 步骤 1：补充翻译

**文件**：`src/messages/zh.json`  
**位置**：`seller` 命名空间内（在 `salesCountriesLimited` 之后追加）

```json
"searchCountriesPlaceholder": "搜索国家...",
"clearAll": "清空",
"noCountriesFound": "未找到匹配的国家",
"selectedCountriesCount": "已选择 {count} 个国家/地区"
```

**文件**：`src/messages/en.json`  
**位置**：`seller` 命名空间内对应位置

```json
"searchCountriesPlaceholder": "Search countries...",
"clearAll": "Clear",
"noCountriesFound": "No matching countries found",
"selectedCountriesCount": "{count} country/region selected"
```

**说明**：`selectAll`（全选）已在 seller 中存在，无需新增。

### 步骤 2：修改 SalesCountriesSelector 组件

**文件**：`src/components/ecommerce/SalesCountriesSelector.tsx`

**修改点 A**：添加 `useTranslations` 导入与调用

```ts
// 在现有 import 中增加
import { useTranslations } from 'next-intl'

// 在组件内部、useLocale 之后
const t = useTranslations('seller')
```

**修改点 B**：移除 placeholder 默认值中的硬编码，改为使用翻译

- 将 `placeholder = '搜索国家...'` 改为 `placeholder` 可选，不传时使用 `t('searchCountriesPlaceholder')`
- 在 Input 的 `placeholder` 属性使用：`placeholder={placeholder ?? t('searchCountriesPlaceholder')}`

**修改点 C**：替换硬编码文案

| 原内容 | 替换为 |
|--------|--------|
| `全选` | `t('selectAll')` |
| `清空` | `t('clearAll')` |
| `未找到匹配的国家` | `t('noCountriesFound')` |
| `已选择 {selected.length} 个国家/地区` | `t('selectedCountriesCount', { count: selected.length })` |

---

## 四、验证

- 切换 locale 为 `zh`、`en`，确认上述文案随语言切换正确显示。

---

## 五、修改文件清单

| 文件 | 修改内容 |
|------|----------|
| `src/messages/zh.json` | seller 命名空间新增 4 个翻译键 |
| `src/messages/en.json` | seller 命名空间新增 4 个翻译键 |
| `src/components/ecommerce/SalesCountriesSelector.tsx` | 使用 useTranslations，替换 5 处硬编码 |
